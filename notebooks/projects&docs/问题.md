# 问题

[toc]

## 坑

[beu查询慢 优化（删除索引）](onenote:11月.one#beu查询慢 优化（删除索引）&section-id={E2E57506-B5E5-4623-A5E5-B4534864E11D}&page-id={DD90F0D8-3502-47BF-97F1-9E70A2C16057}&end&base-path=https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本)

 

[并发跟新/插入死锁问题mysql （接上一页），已解决](onenote:20年1月.one#并发跟新\插入死锁问题mysql （接上一页），已解决&section-id={CD815CE5-455B-4E26-AE78-F427485D685E}&page-id={CBA1A9F3-9B0A-4DC8-B7E2-2801FA46286B}&end&base-path=https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本)

 

mysql死锁问题：

https://z.itpub.net/article/detail/7B944ED17C0084CF672A47D6E938B750

[https://xiaolincoding.com/mysql/lock/mysql_lock.html#%E5%85%A8%E5%B1%80%E9%94%81](https://xiaolincoding.com/mysql/lock/mysql_lock.html#全局锁)

 

[请求体的body流不可重复读问题解决思路](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/20年7月.one#请求体的body流不可重复读问题解决思路&section-id={DBE84FEC-09EC-4773-BBFC-E3449A87654B}&page-id={B3F66A66-5378-4E73-86EF-73D98402B6AB}&end) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(20年7月.one|DBE84FEC-09EC-4773-BBFC-E3449A87654B%2F请求体的body流不可重复读问题解决思路|B3F66A66-5378-4E73-86EF-73D98402B6AB%2F)))



rpc调用反序列化集合顺序乱了的问题

[【集合new初始化ArrayList::new+Map的坑】location回去GPS内存溢出：Map.computeIfAbsent(ArrayList::new)导致堆内存溢出](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/2021年5月.one#【集合new初始化ArrayListnew+Map的坑】location回去GPS内存溢出：Map.computeIfAbsent(ArrayListnew)导致堆内存溢出&section-id={C9904E92-184E-45BB-A4C5-A345C9EACFDE}&page-id={628764F9-A31A-493D-927A-27A8936F5B62}&object-id={57A02CAB-B968-4384-B07D-595B0BDD9F0D}&10) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(2021年5月.one|C9904E92-184E-45BB-A4C5-A345C9EACFDE%2F【集合new初始化ArrayList%3A%3Anew%2BMap的坑】location回去GPS内存溢出：Map.computeIfAbsent(ArrayList%3A%3Anew\)导致堆内存溢出|628764F9-A31A-493D-927A-27A8936F5B62%2F)))

[【坑，父子工程打包】spring-boot项目打包时候出现boot-inf文件夹的问题](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/2021年5月.one#【坑，父子工程打包】spring-boot项目打包时候出现boot-inf文件夹的问题&section-id={C9904E92-184E-45BB-A4C5-A345C9EACFDE}&page-id={AFDF0E62-01A0-481A-874D-843AC14D4CE6}&object-id={CE0C28E8-02AB-07D7-37F6-79C299C07204}&2F) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(2021年5月.one|C9904E92-184E-45BB-A4C5-A345C9EACFDE%2F【坑，父子工程打包】spring-boot项目打包时候出现boot-inf文件夹的问题|AFDF0E62-01A0-481A-874D-843AC14D4CE6%2F)))

[【坑2】springboot maven插件打包不到META-INF/spring.factories](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/2021年5月.one#【坑2】springboot maven插件打包不到META-INF/spring.factories&section-id={C9904E92-184E-45BB-A4C5-A345C9EACFDE}&page-id={7620D8FA-DB24-4CB5-8BDA-6DC952EAB949}&object-id={E3F2B1E4-D3A5-0F40-2CD2-8181BB7494B9}&10) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(2021年5月.one|C9904E92-184E-45BB-A4C5-A345C9EACFDE%2F【坑2】springboot maven插件打包不到META-INF\%2Fspring.factories|7620D8FA-DB24-4CB5-8BDA-6DC952EAB949%2F)))

[★一次完整的JVM堆外内存泄漏故障排查记录 - 蛮三刀酱 - 博客园](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/2021年12月.one#★一次完整的JVM堆外内存泄漏故障排查记录 - 蛮三刀酱 - 博客园&section-id={BC7D0C7C-72C3-4F12-822B-47BFC0EFC929}&page-id={21DD216C-F775-4F63-AE4A-91DF455B78AD}&object-id={DD970763-CD23-4DA4-B61B-69F755C08F2C}&B) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(2021年12月.one|BC7D0C7C-72C3-4F12-822B-47BFC0EFC929%2F★一次完整的JVM堆外内存泄漏故障排查记录 - 蛮三刀酱 - 博客园|21DD216C-F775-4F63-AE4A-91DF455B78AD%2F)))

[Mybatis 用#传表名参数报错](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/22年5月.one#Mybatis 用传表名参数报错&section-id={50A82368-A184-4D7F-83F8-5885B9004B81}&page-id={C8C7AF19-6B1A-4AFF-8D78-9E942E2330EA}&object-id={441F9BEA-E66B-427F-8462-CCFD0593B69D}&10) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(22年5月.one|50A82368-A184-4D7F-83F8-5885B9004B81%2FMybatis 用%23传表名参数报错|C8C7AF19-6B1A-4AFF-8D78-9E942E2330EA%2F)))



## sonarqube检测： 迪米特法则

[6.21  迪米特法则](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/22年6月.one#6.21  迪米特法则&section-id={3A9B1315-9537-43FA-B2B4-C1CBE773616B}&page-id={559F443F-379B-4C1B-91B2-19741FCE904C}&object-id={40AA7D46-44F7-0124-1A98-42E834265D5B}&10) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(22年6月.one|3A9B1315-9537-43FA-B2B4-C1CBE773616B%2F6.21  迪米特法则|559F443F-379B-4C1B-91B2-19741FCE904C%2F)))



## 枚举判断相等一般用`==`而不是`equals()`

两个原因：

1. `==`不会抛出NPE
2. `==`在编译器检测类型兼容性



## Springboot启动后执行方法（4种）

来自 <https://www.cnblogs.com/lizm166/p/16542073.html> 

 

## Spring事务传播：

[！！！解决【UnexpectedRollbackException】](onenote:2020年5月.one#！！！解决【UnexpectedRollbackException】&section-id={855ED521-860C-4798-8C63-60070B905B8F}&page-id={4CB5C7A9-9EBE-49D5-AF73-0AE297838DC4}&end&base-path=https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本)

[事务传播方式](onenote:2020年5月.one#事务传播方式&section-id={855ED521-860C-4798-8C63-60070B905B8F}&page-id={FB504982-00D7-48D9-8A87-A13FFD10D7BA}&end&base-path=https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本)

 

## springEL

 

 

## Springboot starter制作

[spring开关注解 @Import](onenote:20年7月.one#spring开关注解  @Import&section-id={DBE84FEC-09EC-4773-BBFC-E3449A87654B}&page-id={8F81A31F-A851-49CE-9004-76E6296AB7B5}&end&base-path=https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本)

https://juejin.cn/post/6844903839506628621

@ConditionalOn条件注入





## 全局异常处理

https://zhuanlan.zhihu.com/p/73525638



## Mybatis TypeHandler



## Spring类型转换器

[Spring 类型转换器](onenote:https://d.docs.live.net/7c3c219f14f2507d/文档/Jerry 的笔记本/2021年11月.one#Spring 类型转换器&section-id={273DF86A-33BE-409B-9620-FAB2C2B4CCEC}&page-id={4EA212A7-50DF-4217-9916-FA79E69E52F8}&object-id={F05FFDEB-09DB-4C32-A349-D78F38765453}&10) ([Web 视图](https://onedrive.live.com/view.aspx?resid=7C3C219F14F2507D!296&id=documents&wd=target(2021年11月.one|273DF86A-33BE-409B-9620-FAB2C2B4CCEC%2FSpring 类型转换器|4EA212A7-50DF-4217-9916-FA79E69E52F8%2F)))

https://www.baeldung.com/jackson-serialize-enums



## mysql中文字段排序

使用`CONVERT`函数转码成`gbk`

```sql
ORDER BY
	CONVERT(name USING gbk)
```

